{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"animated-testimonials","type":"registry:ui","title":"Animated Testimonials","author":"shadcn.io","description":"Animated testimonial carousel with stacked photos and word-by-word text reveal for React","homepage":"https://www.shadcn.io/components/interactive/animated-testimonials","files":[{"type":"registry:ui","path":"animated-testimonials.tsx","content":"\"use client\"\n\nimport { AnimatePresence, motion } from \"framer-motion\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface Testimonial {\n  quote: string\n  name: string\n  designation: string\n  src: string\n}\n\nexport interface AnimatedTestimonialsProps {\n  testimonials: Testimonial[]\n  autoplay?: boolean\n  className?: string\n}\n\nexport const AnimatedTestimonials = ({\n  testimonials,\n  autoplay = false,\n  className,\n}: AnimatedTestimonialsProps) => {\n  const [active, setActive] = useState(0)\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  const handleNext = () => {\n    setActive(prev => (prev + 1) % testimonials.length)\n  }\n\n  const handlePrev = () => {\n    setActive(prev => (prev - 1 + testimonials.length) % testimonials.length)\n  }\n\n  const isActive = (index: number) => {\n    return index === active\n  }\n\n  useEffect(() => {\n    if (autoplay) {\n      const interval = setInterval(handleNext, 5000)\n      return () => clearInterval(interval)\n    }\n  }, [autoplay])\n\n  const randomRotateY = () => {\n    return Math.floor(Math.random() * 21) - 10\n  }\n\n  if (!mounted) {\n    return (\n      <div\n        className={cn(\n          \"mx-auto max-w-sm px-4 py-20 md:max-w-4xl md:px-8 lg:px-12 h-96 bg-muted/20 animate-pulse rounded-xl\",\n          className,\n        )}\n      />\n    )\n  }\n\n  return (\n    <div\n      className={cn(\n        \"mx-auto max-w-sm px-4 py-20 font-sans antialiased md:max-w-4xl md:px-8 lg:px-12\",\n        className,\n      )}\n    >\n      <div className=\"relative grid grid-cols-1 gap-20 md:grid-cols-2\">\n        <div>\n          <div className=\"relative h-80 w-full\">\n            <AnimatePresence>\n              {testimonials.map((testimonial, index) => (\n                <motion.div\n                  animate={{\n                    opacity: isActive(index) ? 1 : 0.7,\n                    scale: isActive(index) ? 1 : 0.95,\n                    z: isActive(index) ? 0 : -100,\n                    rotate: isActive(index) ? 0 : randomRotateY(),\n                    zIndex: isActive(index) ? 40 : testimonials.length + 2 - index,\n                    y: isActive(index) ? [0, -80, 0] : 0,\n                  }}\n                  className=\"absolute inset-0 origin-bottom\"\n                  exit={{\n                    opacity: 0,\n                    scale: 0.9,\n                    z: 100,\n                    rotate: randomRotateY(),\n                  }}\n                  initial={{\n                    opacity: 0,\n                    scale: 0.9,\n                    z: -100,\n                    rotate: randomRotateY(),\n                  }}\n                  key={testimonial.src}\n                  transition={{\n                    duration: 0.4,\n                    ease: \"easeInOut\",\n                  }}\n                >\n                  <img\n                    alt={testimonial.name}\n                    className=\"h-full w-full rounded-3xl object-cover object-center\"\n                    draggable={false}\n                    height={500}\n                    src={testimonial.src}\n                    width={500}\n                  />\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        </div>\n        <div className=\"flex flex-col justify-between py-4\">\n          <motion.div\n            animate={{\n              y: 0,\n              opacity: 1,\n            }}\n            exit={{\n              y: -20,\n              opacity: 0,\n            }}\n            initial={{\n              y: 20,\n              opacity: 0,\n            }}\n            key={active}\n            transition={{\n              duration: 0.2,\n              ease: \"easeInOut\",\n            }}\n          >\n            <h3 className=\"text-2xl font-bold text-black dark:text-white\">\n              {testimonials[active].name}\n            </h3>\n            <p className=\"text-sm text-gray-500 dark:text-neutral-500\">\n              {testimonials[active].designation}\n            </p>\n            <motion.p className=\"mt-8 text-lg text-gray-500 dark:text-neutral-300\">\n              {testimonials[active].quote.split(\" \").map((word, index) => (\n                <motion.span\n                  animate={{\n                    filter: \"blur(0px)\",\n                    opacity: 1,\n                    y: 0,\n                  }}\n                  className=\"inline-block\"\n                  initial={{\n                    filter: \"blur(10px)\",\n                    opacity: 0,\n                    y: 5,\n                  }}\n                  key={index}\n                  transition={{\n                    duration: 0.2,\n                    ease: \"easeInOut\",\n                    delay: 0.02 * index,\n                  }}\n                >\n                  {word}&nbsp;\n                </motion.span>\n              ))}\n            </motion.p>\n          </motion.div>\n          <div className=\"flex gap-4 pt-12 md:pt-0\">\n            <button\n              type=\"button\"\n              className=\"group/button flex h-7 w-7 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800\"\n              onClick={handlePrev}\n            >\n              <ChevronLeft className=\"h-5 w-5 text-black transition-transform duration-300 group-hover/button:rotate-12 dark:text-neutral-400\" />\n            </button>\n            <button\n              type=\"button\"\n              className=\"group/button flex h-7 w-7 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800\"\n              onClick={handleNext}\n            >\n              <ChevronRight className=\"h-5 w-5 text-black transition-transform duration-300 group-hover/button:-rotate-12 dark:text-neutral-400\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Demo\nconst demoTestimonials: Testimonial[] = [\n  {\n    quote:\n      \"This product has completely transformed how we work. The attention to detail and user experience is unmatched.\",\n    name: \"Sarah Chen\",\n    designation: \"CTO at TechCorp\",\n    src: \"https://i.pravatar.cc/500?img=1\",\n  },\n  {\n    quote:\n      \"I've never seen such a well-designed interface. It's intuitive and beautiful at the same time.\",\n    name: \"Michael Roberts\",\n    designation: \"Design Lead at Creative Co\",\n    src: \"https://i.pravatar.cc/500?img=3\",\n  },\n  {\n    quote:\n      \"The best investment we've made this year. Our team productivity has increased significantly.\",\n    name: \"Emily Watson\",\n    designation: \"CEO at StartupXYZ\",\n    src: \"https://i.pravatar.cc/500?img=5\",\n  },\n]\n\nexport function Demo() {\n  return (\n    <div className=\"fixed inset-0 flex items-center justify-center bg-background\">\n      <AnimatedTestimonials testimonials={demoTestimonials} autoplay />\n    </div>\n  )\n}\n","target":"components/ui/animated-testimonials.tsx"}],"dependencies":["framer-motion","lucide-react"]}